function GolfScript(e,t=[],i={},l=""){const n=[],s=Array,f=Number,p=BigInt,a=String,o=()=>n.forEach((e,r)=>e<g(t)?1:n[r]--)||t.pop(),c=e=>(e=g(t)-e,n.forEach((r,t)=>r<e?1:n[t]=e),t.splice(e)),u=(...e)=>{t.push(...e)},h=(e=0)=>t[e<0?-e-1:g(t)-e-1],m=e=>{let r=()=>ce(e);return r.toString=()=>e,r},d=e=>e,g=e=>e.length,x=(...e)=>e.reduce((e,r)=>(...t)=>1==g(r)?e(...t.map(e=>r(e))):e(r(...t))),E=e=>("fso".indexOf((typeof e)[0])+4)%4,y=e=>"fsobn".indexOf((typeof e)[0]),I=(e,r)=>(C[E(e)][y(r)]||d)(e),M=(e,r,t=d,i=a)=>l=>[i,t,r,e][E(l)](l),S=(e,r,t=x(j,r),i=x(m,t,a))=>(l,n)=>[i,t,r,_(e)][E(l=I(l,n))](l,I(n,l)),$=(e,r,t=r,i=t)=>(l,n)=>(y(l)>y(n)&&([l,n]=[n,l]),[i,t,r,e][E(n)][E(l)](l,n)),b=M(a,e=>`[${e.map(b).join(" ")}]`,JSON.stringify,e=>`{${e}}`),j=e=>e.join(""),w=e=>e.codePointAt(),A=e=>e>0?e:-e,N=e=>A(e)<f.MAX_SAFE_INTEGER,O=s.from,v=M(a.fromCodePoint,e=>j(e.flat(1/0).map(v))),P=M(a,e=>j(e.flat(1/0).map(P))),G=e=>O(a(e),w),W=e=>N(e)?f(e):e,_=e=>(...r)=>{let t=e(...r.map(e=>I(e,r[0])));return N(t)?Math.floor(f(t)):3==y(t)?t:e(...r.map(p))},z=e=>"'"==e[0]?e.slice(1,-1).replace(/\\(['\\])/g,"$1"):'"'==e[0]?eval("`"+e.slice(1,-1).replace("`","\\`")+"`"):null,B=e=>{let r=parseInt(e);return isNaN(r)?z(e):N(r)?r:p(e)},C=[[],[m],[e=>m(e.map(M(a,v)).join(" ")),v],[x(m,a),a,s.of,p]],F=M(d,g),J=(e,r)=>e.concat(r),R=(e,r)=>{g(r)&&(u(r[0])||r.slice(1).forEach(r=>u(r)||e()))},T=(e,r)=>ne(e,r)?-1:K(e,r)?0:1,X=e=>O(e).sort(T),k=e=>o().map(r=>u(r)||e()||{e:r,s:o()}).sort((e,r)=>T(e.s,r.s)).map(({e:e})=>e),q=(e,r)=>e.filter(e=>!H(r,e)),D=e=>r=>r.filter(r=>u(r)||e()||F(o())),H=(e,r)=>O(e).some(e=>K(e,r)),K=S((e,r)=>+(e==r),(e,r)=>+(g(e)==g(r)&&e.every((e,t)=>K(e,r[t]))),(e,r)=>+(e==r),(e,r)=>+(a(e)==r)),L=(e,r)=>e.findIndex(e=>K(e,r)),Q=e=>O(new Set(e)),U=(e,r)=>r.find(r=>u(r)||e()||+!!F(o())),V=e=>(r,t)=>O({length:Math.ceil(g(r)/t)},(i,l)=>e(r.slice(l*t,l*t+t))),Y=e=>e.reduce((e,r)=>Math.max(e,g(r)),0),Z=(e,r)=>{let t,i=[];for(e=O(e);(t=e.findIndex((t,i)=>K(r,e.slice(i,i+g(r)))))>=0;)i.push(e.splice(0,t)),e.splice(0,g(r));return i.push(e),i},ee=(e,r)=>r.forEach(r=>u(r)||e()),re=(e,r)=>r<0?re(O(e).reverse(),-r):e.filter((e,t)=>t%r==0),te=(e,r)=>r.map(r=>{let i=g(t);return u(r),e(),t.splice(i)}).flat(),ie=(e,r)=>w(O(a(e))[r<0?g(e)+r:r]),le=(e,r)=>{let t=[];for(;u(h()),e(),F(o());)t.push(h()),r();return o(),t},ne=(e,r)=>s.isArray(e)?fe(e,r):+(e<r),se=(e,r)=>+(e>r),fe=(e,r)=>+(g(r)>0&&(0==g(e)||(K(e[0],r[0])?fe(e.slice(1),r.slice(1)):ne(e[0],r[0])))),pe=(e,r)=>{let t=[];if(e=A(e),r=I(r,e))for(;e;)t.unshift(W(e%r)),e=(e-e%r)/r;return t},ae=(e,r)=>W((r=p(r))&&W(e.reduce((e,t)=>e*r+p(t),0n))),oe=e=>O({length:Y(e)},(r,t)=>e.filter(e=>g(e)>t).map(e=>e[t])),ce=e=>{let r=0;e&&e.match(/#[^\n\r]*|:?(-?\d+|"(\\.|[^"])*"|'(\\.|[^'])*'|\w+|\W)/gu).forEach(e=>{if("{"==e&&!r++)return u("");if("}"==e&&!--r)return u(m(o()));if(r)return t[g(t)-1]+=e;if("#"==e[0])return;if(":"==e[0])return ue[e.substr(1)]=h();let i=ue.hasOwnProperty(e)?ue[e]:B(e);E(i)||(i=i(...c(g(i)))),null!=i&&t.push(i)})},ue={"~":M(e=>~e,e=>u(...e),ce,e=>e()),"`":b,"!":e=>+!F(e),"@":(e,r,t)=>u(r,t,e),$:M(h,X,x(j,X),k),"+":S((e,r)=>e+r,J,J,(e,r)=>m(e+" "+r)),"-":S((e,r)=>e-r,q,x(j,q,O)),"*":$([(e,r)=>{for(;r-- >0;)e()},(e,r)=>e.repeat(r),(e,r)=>s(r).fill(e).flat(),_((e,r)=>e*r)],[R,(e,r)=>r.map(r=>I(r,e)).join(e),(e,r)=>g(e)?e.reduce((e,t)=>[].concat(e,r,t)):e],[(e,r)=>R(e,G(r)),(e,r)=>O(e).join(r)]),"/":$([(e,r)=>le(e,m(a(r))),(e,r)=>V(j)(O(e),r),V(d),_((e,r)=>e/r)],[ee,(e,r)=>Z(G(e),r),Z],[(e,r)=>ee(e,G(r)),(e,r)=>e.split(r)],[le]),"%":$([9,(e,r)=>j(re(O(e),r)),re,_((e,r)=>e<0?e%r+r:e%r)],[te,(e,r)=>Z(G(e),r).filter(g),(e,r)=>Z(e,r).filter(g)],[(e,r)=>v(te(e,G(r))),(e,r)=>e.split(r).filter(d)],[(e,r)=>te(e,G(r))]),"|":S((e,r)=>e|r,x(Q,J)),"&":S((e,r)=>e&r,(e,r)=>Q(e).filter(e=>H(r,e))),"^":S((e,r)=>e^r,(e,r)=>Q(J(e,r)).filter(t=>!H(e,t)||!H(r,t))),"=":$([ie,ie,(e,r)=>r<0?e[g(e)+r]:e[r],K],[K,K,K]),",":M(e=>s(e<0?0:e).fill().map((e,r)=>r),g,x(g,O),e=>M(9,D(e),x(v,D(e),G),x(m,v,D(e),G))(o())),".":e=>u(e,e),";":e=>{},"<":$([(e,r)=>m(j(O(a(e)).slice(0,r))),(e,r)=>j(O(e).slice(0,r)),(e,r)=>e.slice(0,r),ne],[(e,r)=>fe(G(e),r),(e,r)=>fe(G(e),r),fe],[ne,ne]),">":$([(e,r)=>m(j(O(a(e)).slice(r))),(e,r)=>j(O(e).slice(r)),(e,r)=>e.slice(r),se],[(e,r)=>fe(r,G(e)),(e,r)=>fe(r,G(e)),(e,r)=>fe(r,e)],[se,se]),"\\":(e,r)=>u(r,e),"[":()=>{n.push(g(t))},"]":()=>t.splice(n.pop()),"?":$([9,(e,r)=>O(e).indexOf(v(r)),L,_((e,r)=>e**r)],[U,(e,r)=>L(r,e),L],[(e,r)=>U(e,G(r)),(e,r)=>O(e).findIndex((e,t,i)=>j(i.slice(t)).startsWith(r))]),"(":M(_(e=>--e),e=>u(e.slice(1),e[0]),e=>u(j(O(e).slice(1)),w(e)),e=>u(m(j(O(a(e)).slice(1))),w(e))),")":M(_(e=>++e),e=>u(e=O(e),e.pop()),e=>u(j((e=O(e)).slice(0,-1)),w(e[g(e)-1])),e=>{let r=O(a(e)),t=r.pop();u(m(j(r)),w(t))}),and:m("1$if"),or:m("1$\\if"),xor:m("\\!!{!}*"),print(e){l+=P(e)},p:m("`puts"),n:"\n",puts:m("print n print"),rand:e=>Math.floor(Math.random()*e),do(e){do{e()}while(F(o()))},while(e,r){for(;e(),F(o());)r()},until(e,r){for(;e(),!F(o());)r()},if:(e,t,i)=>(r=F(e)?t:i).call?r():r,abs:A,zip:e=>[e=>oe(e.map(v)).map(x(m,j)),e=>oe(e.map(v)).map(j),oe][E(e[0])](e),base:$([(e,r)=>ae(G(e),r),(e,r)=>ae(G(e),r),ae,pe]),...i};return ce(e),u(t),ue.puts(),l}