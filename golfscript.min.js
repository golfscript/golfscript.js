function GolfScript(e,t=[],i={},l=""){const n=[],p=Array,s=Number,a=BigInt,f=String,o=()=>n.forEach((e,r)=>e<g(t)?1:n[r]--)||t.pop(),c=e=>(e=g(t)-e,n.forEach((r,t)=>r<e?1:n[t]=e),t.splice(e)),u=(...e)=>{t.push(...e)},m=(e=0)=>t[e<0?-e-1:g(t)-e-1],h=e=>{let r=()=>fe(e);return r.toString=()=>e,r},d=e=>e,g=e=>e.length,x=(...e)=>e.reduce((e,r)=>(...t)=>1==g(r)?e(...t.map(e=>r(e))):e(r(...t))),y=e=>("fso".indexOf((typeof e)[0])+4)%4,$=e=>"fsobn".indexOf((typeof e)[0]),b=(e,r,t=d,i=f)=>l=>[i,t,r,e][y(l)](l),j=b(f,e=>`[${e.map(j).join(" ")}]`,JSON.stringify,e=>`{${e}}`),w=e=>e.join(""),E=e=>e.codePointAt(),M=e=>e>0?e:-e,O=e=>M(e)<2**31,S=p.from,I=b(f.fromCodePoint,e=>w(e.flat(1/0).map(I))),N=b(f,e=>w(e.flat(1/0).map(N))),v=e=>S(f(e),E),A=e=>O(e)?s(e):e,P=e=>(...r)=>{let t=e(...r.map(e=>B(e,r[0])));return O(t)?Math.floor(s(t)):3==$(t)?t:e(...r.map(a))},W=e=>"'"==e[0]?e.slice(1,-1).replace(/\\(['\\])/g,"$1"):'"'==e[0]?eval("`"+e.slice(1,-1).replace("`","\\`")+"`"):null,z=e=>{let r=parseInt(e);return isNaN(r)?W(e):O(r)?r:a(e)},B=(e,r)=>([[],[h],[e=>h(e.map(b(f,I)).join(" ")),I],[x(h,f),f,p.of,a]][y(e)][$(r)]||d)(e),C=(e,r,t=x(w,r),i=x(h,t,f))=>(l,n)=>[i,t,r,P(e)][y(l=B(l,n))](l,B(n,l)),G=(e,r,t=r,i=t)=>(l,n)=>($(l)>$(n)&&([l,n]=[n,l]),[i,t,r,e][y(n)][y(l)](l,n)),J=b(d,g),k=(e,r)=>e.concat(r),q=(e,r)=>{g(r)&&(u(r[0])||r.slice(1).forEach(r=>u(r)||e()))},D=(e,r)=>ie(e,r)?-1:R(e,r)?0:1,F=e=>S(e).sort(D),H=e=>r=>r.map(r=>u(r)||e()||{e:r,s:o()}).sort((e,r)=>D(e.s,r.s)).map(({e:e})=>e),K=(e,r)=>e.filter(e=>!Q(r,e)),L=e=>r=>r.filter(r=>u(r)||e()||J(o())),Q=(e,r)=>S(e).some(e=>R(e,r)),R=C((e,r)=>+(e==r),(e,r)=>+(g(e)==g(r)&&e.every((e,t)=>R(e,r[t]))),(e,r)=>+(e==r),(e,r)=>+(f(e)==r)),T=(e,r)=>e.findIndex(e=>R(e,r)),U=e=>S(new Set(e)),V=(e,r)=>r.find(r=>u(r)||e()||+!!J(o())),X=e=>(r,t)=>S({length:Math.ceil(g(r)/t)},(i,l)=>e(r.slice(l*t,l*t+t))),Y=(e,r)=>e.reduce((t,i,l)=>(t[g(t)-1]?R(r,e.slice(l,l+g(r)))?t.push([],...r.slice(1).map(e=>0)):t[g(t)-1].push(i):t.pop(),t),[[]]),Z=(e,r)=>r.forEach(r=>u(r)||e()),_=(e,r)=>r<0?_(S(e).reverse(),-r):e.filter((e,t)=>t%r==0),ee=(e,r)=>r.map(r=>{let i=g(t);return u(r),e(),t.splice(i)}).flat(),re=(e,r)=>E(S(f(e))[r<0?g(e)+r:r]),te=(e,r)=>{let t=[];for(;u(m()),e(),J(o());)t.push(m()),r();return o(),t},ie=(e,r)=>p.isArray(e)?ne(e,r):+(e<r),le=(e,r)=>+(e>r),ne=(e,r)=>+(g(r)>0&&(0==g(e)||(R(e[0],r[0])?ne(e.slice(1),r.slice(1)):ie(e[0],r[0])))),pe=(e,r)=>{let t=[];if(e=M(e),r=B(r,e))for(;e;)t.unshift(A(e%r)),e=(e-e%r)/r;return t},se=(e,r)=>A((r=a(r))&&A(e.reduce((e,t)=>e*r+a(t),0n))),ae=e=>S({length:Math.max(...e.map(g))},(r,t)=>e.filter(e=>g(e)>t).map(e=>e[t])),fe=e=>{let r=0;e&&e.match(/#[^\n\r]*|:?(-?\d+|"(\\.|[^"])*"|'(\\.|[^'])*'|\w+|\W)/gu).forEach(e=>{if("{"==e&&!r++)return u("");if("}"==e&&!--r)return u(h(o()));if(r)return t[g(t)-1]+=e;if("#"==e[0])return;if(":"==e[0])return oe[e.substr(1)]=m();let i=oe.hasOwnProperty(e)?oe[e]:z(e);y(i)||(i=i(...c(g(i)))),null!=i&&t.push(i)})},oe={"~":b(e=>~e,e=>u(...e),fe,e=>e()),"`":j,"!":e=>+!J(e),"@":(e,r,t)=>u(r,t,e),$:b(m,F,x(w,F),e=>b(9,H(e),x(I,H(e),v),x(h,I,H(e),v))(o())),"+":C((e,r)=>e+r,k,k,(e,r)=>h(e+" "+r)),"-":C((e,r)=>e-r,K,x(w,K,S)),"*":G([(e,r)=>{for(;r-- >0;)e()},(e,r)=>e.repeat(r),(e,r)=>p(r).fill(e).flat(),P((e,r)=>e*r)],[q,(e,r)=>r.map(r=>B(r,e)).join(e),(e,r)=>g(e)?e.reduce((e,t)=>[].concat(e,r,t)):e],[(e,r)=>q(e,v(r)),(e,r)=>S(e).join(r)]),"/":G([(e,r)=>te(e,h(f(r))),(e,r)=>X(w)(S(e),r),X(d),P((e,r)=>e/r)],[Z,(e,r)=>Y(v(e),r),Y],[(e,r)=>Z(e,v(r)),(e,r)=>e.split(r)],[te]),"%":G([9,(e,r)=>w(_(S(e),r)),_,P((e,r)=>e<0?e%r+r:e%r)],[ee,(e,r)=>Y(v(e),r).filter(g),(e,r)=>Y(e,r).filter(g)],[(e,r)=>I(ee(e,v(r))),(e,r)=>e.split(r).filter(d)],[(e,r)=>ee(e,v(r))]),"|":C((e,r)=>e|r,x(U,k)),"&":C((e,r)=>e&r,(e,r)=>U(e).filter(e=>Q(r,e))),"^":C((e,r)=>e^r,(e,r)=>U(k(e,r)).filter(t=>!Q(e,t)||!Q(r,t))),"=":G([re,re,(e,r)=>r<0?e[g(e)+r]:e[r],R],[R,R,R]),",":b(e=>p(e<0?0:e).fill().map((e,r)=>r),g,x(g,S),e=>b(9,L(e),x(I,L(e),v),x(h,I,L(e),v))(o())),".":e=>u(e,e),";":e=>{},"<":G([(e,r)=>h(w(S(f(e)).slice(0,r))),(e,r)=>w(S(e).slice(0,r)),(e,r)=>e.slice(0,r),ie],[(e,r)=>ne(v(e),r),(e,r)=>ne(v(e),r),ne],[ie,ie]),">":G([(e,r)=>h(w(S(f(e)).slice(r))),(e,r)=>w(S(e).slice(r)),(e,r)=>e.slice(r),le],[(e,r)=>ne(r,v(e)),(e,r)=>ne(r,v(e)),(e,r)=>ne(r,e)],[le,le]),"\\":(e,r)=>u(r,e),"[":()=>{n.push(g(t))},"]":()=>t.splice(n.pop()),"?":G([9,(e,r)=>S(e).indexOf(I(r)),T,P((e,r)=>e**r)],[V,(e,r)=>T(r,e),T],[(e,r)=>V(e,v(r)),(e,r)=>S(e).findIndex((e,t,i)=>w(i.slice(t)).startsWith(r))]),"(":b(P(e=>--e),e=>u(e.slice(1),e[0]),e=>u(w(S(e).slice(1)),E(e)),e=>u(h(w(S(f(e)).slice(1))),E(e))),")":b(P(e=>++e),e=>u(e=S(e),e.pop()),e=>u(w((e=S(e)).slice(0,-1)),E(e[g(e)-1])),e=>{let r=S(f(e)),t=r.pop();u(h(w(r)),E(t))}),and:h("1$if"),or:h("1$\\if"),xor:h("\\!!{!}*"),print(e){l+=N(e)},p:h("`puts"),n:"\n",puts:h("print n print"),rand:e=>Math.floor(Math.random()*e),do(e){do{e()}while(J(o()))},while(e,r){for(;e(),J(o());)r()},until(e,r){for(;e(),!J(o());)r()},if:(e,t,i)=>(r=J(e)?t:i).call?r():r,abs:M,zip:e=>[e=>ae(e.map(I)).map(x(h,w)),e=>ae(e.map(I)).map(w),ae][y(e[0])](e),base:G([(e,r)=>se(v(e),r),(e,r)=>se(v(e),r),se,pe]),...i};return fe(e),u(t),oe.puts(),l}