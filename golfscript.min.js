function Golfscript(e,t=[],i={},l=""){const n=[],f=Array,s=Number,o=BigInt,p=String,a=()=>{for(let e in n)n[e]>=g(t)&&n[e]--;return t.pop()},c=e=>{e=g(t)-e;for(let r in n)n[r]>e&&(n[r]=e);return t.splice(e)},u=(...e)=>{t.push(...e)},d=(e=0)=>t[e<0?-e-1:g(t)-e-1],h=e=>{let r=()=>ue(e);return r.gs_add=r=>e+=r,r.toString=()=>e,r},m=e=>e,g=e=>e.length,x=(e,r,...t)=>(...i)=>g(t)?e(x(r,...t)(i)):e(r(...i)),y=e=>("fso".indexOf((typeof e)[0])+4)%4,M=e=>"fsobn".indexOf((typeof e)[0]),O=(e,r)=>(F[y(e)][M(r)]||m)(e),b=(...e)=>r=>e[y(r)](r),E=(...e)=>(r,t)=>e[y(r=O(r,t))](r,O(t,r)),$=(...e)=>(r,t)=>(M(r)>M(t)&&([r,t]=[t,r]),e[y(t)][y(r)](r,t)),j=b(e=>`{${e}}`,JSON.stringify,e=>`[${e.map(e=>j(e)).join(" ")}]`,p),w=e=>e.join(""),A=e=>e.codePointAt(),I=e=>e>0?e:-e,N=e=>I(e)<s.MAX_SAFE_INTEGER,S=f.from,_=b(p,m,e=>w(e.flat(1/0).map(_)),p.fromCodePoint),v=b(p,m,e=>w(e.flat(1/0).map(v)),p),P=e=>S(p(e),A),G=e=>N(e)?s(e):e,z=e=>(...r)=>{let t=e(...r.map(e=>O(e,r[0])));return N(t)?Math.floor(s(t)):3==M(t)?t:e(...r.map(o))},B=e=>"'"==e[0]?e.slice(1,-1).replace(/\\(['\\])/g,"$1"):'"'==e[0]?eval("`"+e.slice(1,-1).replace("`","\\`")+"`"):null,C=e=>{let r=parseInt(e);return isNaN(r)?B(e):N(r)?r:o(e)},F=[[],[h],[e=>h(e.map(b(p,m,_,p)).join(" ")),_],[x(h,p),p,f.of,o]],J=b(p,m,g,m),R=(e,r)=>{g(r)&&(u(r[0])||r.slice(1).forEach(r=>u(r)||e()))},T=(e,r)=>fe(e,r)?-1:H(e,r)?0:1,W=e=>S(e).sort(T),X=e=>a().map(r=>u(r)||e()||{e:r,s:a()}).sort((e,r)=>T(e.s,r.s)).map(({e:e})=>e),k=(e,r)=>e.filter(e=>!D(r,e)),q=e=>r=>r.filter(r=>u(r)||e()||J(a())),D=(e,r)=>S(e).some(e=>H(e,r)),H=E((e,r)=>+(p(e)==r),(e,r)=>+(e==r),(e,r)=>+(g(e)==g(r)&&e.every((e,t)=>H(e,r[t]))),(e,r)=>+(e==r)),K=(e,r)=>e.findIndex(e=>H(e,r)),L=e=>S(new Set(e)),Q=(e,r)=>w(L(p(e)).filter(e=>r.indexOf(e)+1)),U=(e,r)=>L(e.concat(r)).filter(t=>!D(e,t)||!D(r,t)),V=(e,r)=>r.find(r=>u(r)||e()||+!!J(a())),Y=(e,r)=>S({length:Math.floor((g(e)+1)/r)},(t,i)=>e.slice(i*r,i*r+r)),Z=e=>e.reduce((e,r)=>Math.max(e,g(r)),0),ee=(e,r)=>{let t,i=[];for(e=S(e);(t=e.findIndex((t,i)=>H(r,e.slice(i,i+g(r)))))>=0;)i.push(e.splice(0,t)),e.splice(0,g(r));return i.push(e),i},re=(e,r)=>r.forEach(r=>u(r)||e()),te=(e,r)=>r<0?te(S(e).reverse(),-r):e.filter((e,t)=>t%r==0),ie=(e,r)=>r.map(r=>{let i=g(t);return u(r),e(),t.splice(i)}).flat(),le=(e,r)=>A(S(p(e))[r<0?g(e)+r:r]),ne=(e,r)=>{let t=[];for(;u(d()),e(),J(a());)t.push(d()),r();return a(),t},fe=(e,r)=>f.isArray(e)?oe(e,r):+(e<r),se=(e,r)=>+(e>r),oe=(e,r)=>+(g(r)>0&&(0==g(e)||(H(e[0],r[0])?oe(e.slice(1),r.slice(1)):fe(e[0],r[0])))),pe=(e,r)=>{let t=[];if(e=I(e),r=O(r,e))for(;e;)t.unshift(G(e%r)),e=(e-e%r)/r;return t},ae=(e,r)=>G((r=o(r))&&G(e.reduce((e,t)=>e*r+o(t),0n))),ce=e=>S({length:Z(e)},(r,t)=>e.filter(e=>g(e)>t).map(e=>e[t])),ue=e=>{let r=0;e&&e.match(/#[^\n\r]*|:?(-?\d+|"(\\.|[^"])*"|'(\\.|[^'])*'|\w+|\W)/g).forEach(e=>{if("{"==e&&!r++)return u(h(""));if("}"==e&&!--r)return;if(r)return d().gs_add(e);if("#"==e[0])return;if(":"==e[0])return de[e.substr(1)]=d();let i=de.hasOwnProperty(e)?de[e]:C(e);y(i)||(i=i(...c(g(i)))),null!=i&&t.push(i)})},de={"~":b(e=>e(),ue,e=>u(...e),e=>~e),"`":j,"!":e=>+!J(e),"@":(e,r,t)=>u(r,t,e),$:b(X,x(w,W),W,d),"+":E((e,r)=>h(e+" "+r),(e,r)=>e+r,(e,r)=>e.concat(r),z((e,r)=>e+r)),"-":E((e,r)=>h(w(k(S(p(e)),S(p(r))))),(e,r)=>w(k(S(e),S(r))),k,z((e,r)=>e-r)),"*":$([(e,r)=>R(e,P(r))],[(e,r)=>R(e,P(r)),(e,r)=>S(e).join(r)],[R,(e,r)=>r.map(e=>O(e,"")).join(e),(e,r)=>g(e)?e.reduce((e,t)=>[].concat(e,r,t)):[]],[(e,r)=>{for(;r-- >0;)e()},(e,r)=>e.repeat(r),(e,r)=>f(r).fill(e).flat(),z((e,r)=>e*r)]),"/":$([ne],[(e,r)=>re(e,P(r)),(e,r)=>e.split(r)],[re,(e,r)=>ee(P(e),r),ee],[(e,r)=>ne(e,h(p(r))),(e,r)=>S({length:Math.ceil(g(e)/r)},(t,i)=>e.substr(i*r,r)),Y,z((e,r)=>e/r)]),"%":$([(e,r)=>ie(r,P(e))],[(e,r)=>_(ie(e,P(r))),(e,r)=>e.split(r).filter(m)],[ie,(e,r)=>ee(P(e),r).filter(g),(e,r)=>ee(e,r).filter(g)],[9,(e,r)=>w(te(S(e),r)),te,z((e,r)=>e<0?e%r+r:e%r)]),"|":E((e,r)=>h(w(L(e+r))),(e,r)=>w(L(e+r)),(e,r)=>L(e.concat(r)),z((e,r)=>e|r)),"&":E((e,r)=>h(Q(p(e),p(r))),Q,(e,r)=>L(e).filter(e=>D(r,e)),z((e,r)=>e&r)),"^":E((e,r)=>h(w(U(p(e),p(r)))),x(w,U),U,z((e,r)=>e^r)),"=":$([H],[H,H],[H,H,H],[le,le,(e,r)=>r<0?e[g(e)+r]:e[r],H]),",":b(e=>b(x(h,_,q(e),P),x(_,q(e),P),q(e),9)(a()),x(g,S),g,e=>f(e<0?0:e).fill().map((e,r)=>r)),".":e=>u(e,e),";":e=>{},"<":$([fe],[fe,fe],[(e,r)=>oe(P(e),r),(e,r)=>oe(P(e),r),oe],[(e,r)=>h(p(e).slice(0,r)),(e,r)=>e.slice(0,r),(e,r)=>e.slice(0,r),fe]),">":$([se],[se,se],[(e,r)=>oe(r,P(e)),(e,r)=>oe(r,P(e)),(e,r)=>oe(r,e)],[(e,r)=>h(p(e).slice(r)),(e,r)=>e.slice(r),(e,r)=>e.slice(r),se]),"\\":(e,r)=>u(r,e),"[":()=>{n.push(g(t))},"]":()=>t.splice(n.pop()),"?":$([],[(e,r)=>V(e,P(r)),(e,r)=>e.indexOf(r)],[V,(e,r)=>K(r,e),K],[9,(e,r)=>e.indexOf(_(r)),K,z((e,r)=>e**r)]),"(":b(e=>u(h(w(S(p(e)).slice(1))),A(e)),e=>u(w(S(e).slice(1)),A(e)),e=>u(e.slice(1),e[0]),z(e=>--e)),")":b(e=>{let r=S(p(e)),t=r.pop();u(h(w(r)),A(t))},e=>u(w((e=S(e)).slice(0,-1)),A(e[g(e)-1])),e=>u(e=S(e),e.pop()),z(e=>++e)),and:h("1$if"),or:h("1$\\if"),xor:h("\\!!{!}*"),print(e){l+=v(e)},p:h("`puts"),n:"\n",puts:h("print n print"),rand:e=>Math.floor(Math.random()*e),do(e){do{e()}while(J(a()))},while(e,r){for(;e(),J(a());)r()},until(e,r){for(;e(),!J(a());)r()},if:(e,t,i)=>(r=J(e)?t:i).call?r():r,abs:I,zip:e=>[e=>ce(e.map(_)).map(x(h,w)),e=>ce(e.map(_)).map(w),ce][y(e[0])](e),base:$(9,9,9,[(e,r)=>ae(P(e),r),(e,r)=>ae(P(e),r),ae,pe]),...i};return ue(e),u(t),de.puts(),l}