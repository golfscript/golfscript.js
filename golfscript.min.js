function GolfScript(e,t=[],i={},l=""){const n=[],s=Array,f=Number,p=BigInt,a=String,o=()=>n.forEach((e,r)=>e<g(t)?1:n[r]--)||t.pop(),c=e=>(e=g(t)-e,n.forEach((r,t)=>r<e?1:n[t]=e),t.splice(e)),u=(...e)=>{t.push(...e)},h=(e=0)=>t[e<0?-e-1:g(t)-e-1],m=e=>{let r=()=>oe(e);return r.toString=()=>e,r},d=e=>e,g=e=>e.length,x=(...e)=>e.reduce((e,r)=>(...t)=>1==g(r)?e(...t.map(e=>r(e))):e(r(...t))),y=e=>("fso".indexOf((typeof e)[0])+4)%4,$=e=>"fsobn".indexOf((typeof e)[0]),b=(e,r)=>(J[y(e)][$(r)]||d)(e),j=(e,r,t=d,i=a)=>l=>[i,t,r,e][y(l)](l),w=(e,r,t=x(M,r),i=x(m,t,a))=>(l,n)=>[i,t,r,B(e)][y(l=b(l,n))](l,b(n,l)),E=(e,r,t=r,i=t)=>(l,n)=>($(l)>$(n)&&([l,n]=[n,l]),[i,t,r,e][y(n)][y(l)](l,n)),I=j(a,e=>`[${e.map(I).join(" ")}]`,JSON.stringify,e=>`{${e}}`),M=e=>e.join(""),O=e=>e.codePointAt(),S=e=>e>0?e:-e,N=e=>S(e)<2**31,v=s.from,A=j(a.fromCodePoint,e=>M(e.flat(1/0).map(A))),P=j(a,e=>M(e.flat(1/0).map(P))),W=e=>v(a(e),O),z=e=>N(e)?f(e):e,B=e=>(...r)=>{let t=e(...r.map(e=>b(e,r[0])));return N(t)?Math.floor(f(t)):3==$(t)?t:e(...r.map(p))},C=e=>"'"==e[0]?e.slice(1,-1).replace(/\\(['\\])/g,"$1"):'"'==e[0]?eval("`"+e.slice(1,-1).replace("`","\\`")+"`"):null,G=e=>{let r=parseInt(e);return isNaN(r)?C(e):N(r)?r:p(e)},J=[[],[m],[e=>m(e.map(j(a,A)).join(" ")),A],[x(m,a),a,s.of,p]],k=j(d,g),q=(e,r)=>e.concat(r),D=(e,r)=>{g(r)&&(u(r[0])||r.slice(1).forEach(r=>u(r)||e()))},F=(e,r)=>le(e,r)?-1:T(e,r)?0:1,H=e=>v(e).sort(F),K=e=>r=>r.map(r=>u(r)||e()||{e:r,s:o()}).sort((e,r)=>F(e.s,r.s)).map(({e:e})=>e),L=(e,r)=>e.filter(e=>!R(r,e)),Q=e=>r=>r.filter(r=>u(r)||e()||k(o())),R=(e,r)=>v(e).some(e=>T(e,r)),T=w((e,r)=>+(e==r),(e,r)=>+(g(e)==g(r)&&e.every((e,t)=>T(e,r[t]))),(e,r)=>+(e==r),(e,r)=>+(a(e)==r)),U=(e,r)=>e.findIndex(e=>T(e,r)),V=e=>v(new Set(e)),X=(e,r)=>r.find(r=>u(r)||e()||+!!k(o())),Y=e=>(r,t)=>v({length:Math.ceil(g(r)/t)},(i,l)=>e(r.slice(l*t,l*t+t))),Z=(e,r)=>{let t,i=[];for(e=v(e);(t=e.findIndex((t,i)=>T(r,e.slice(i,i+g(r)))))>=0;)i.push(e.splice(0,t)),e.splice(0,g(r));return i.push(e),i},_=(e,r)=>r.forEach(r=>u(r)||e()),ee=(e,r)=>r<0?ee(v(e).reverse(),-r):e.filter((e,t)=>t%r==0),re=(e,r)=>r.map(r=>{let i=g(t);return u(r),e(),t.splice(i)}).flat(),te=(e,r)=>O(v(a(e))[r<0?g(e)+r:r]),ie=(e,r)=>{let t=[];for(;u(h()),e(),k(o());)t.push(h()),r();return o(),t},le=(e,r)=>s.isArray(e)?se(e,r):+(e<r),ne=(e,r)=>+(e>r),se=(e,r)=>+(g(r)>0&&(0==g(e)||(T(e[0],r[0])?se(e.slice(1),r.slice(1)):le(e[0],r[0])))),fe=(e,r)=>{let t=[];if(e=S(e),r=b(r,e))for(;e;)t.unshift(z(e%r)),e=(e-e%r)/r;return t},pe=(e,r)=>z((r=p(r))&&z(e.reduce((e,t)=>e*r+p(t),0n))),ae=e=>v({length:Math.max(...e.map(g))},(r,t)=>e.filter(e=>g(e)>t).map(e=>e[t])),oe=e=>{let r=0;e&&e.match(/#[^\n\r]*|:?(-?\d+|"(\\.|[^"])*"|'(\\.|[^'])*'|\w+|\W)/gu).forEach(e=>{if("{"==e&&!r++)return u("");if("}"==e&&!--r)return u(m(o()));if(r)return t[g(t)-1]+=e;if("#"==e[0])return;if(":"==e[0])return ce[e.substr(1)]=h();let i=ce.hasOwnProperty(e)?ce[e]:G(e);y(i)||(i=i(...c(g(i)))),null!=i&&t.push(i)})},ce={"~":j(e=>~e,e=>u(...e),oe,e=>e()),"`":I,"!":e=>+!k(e),"@":(e,r,t)=>u(r,t,e),$:j(h,H,x(M,H),e=>j(9,K(e),x(A,K(e),W),x(m,A,K(e),W))(o())),"+":w((e,r)=>e+r,q,q,(e,r)=>m(e+" "+r)),"-":w((e,r)=>e-r,L,x(M,L,v)),"*":E([(e,r)=>{for(;r-- >0;)e()},(e,r)=>e.repeat(r),(e,r)=>s(r).fill(e).flat(),B((e,r)=>e*r)],[D,(e,r)=>r.map(r=>b(r,e)).join(e),(e,r)=>g(e)?e.reduce((e,t)=>[].concat(e,r,t)):e],[(e,r)=>D(e,W(r)),(e,r)=>v(e).join(r)]),"/":E([(e,r)=>ie(e,m(a(r))),(e,r)=>Y(M)(v(e),r),Y(d),B((e,r)=>e/r)],[_,(e,r)=>Z(W(e),r),Z],[(e,r)=>_(e,W(r)),(e,r)=>e.split(r)],[ie]),"%":E([9,(e,r)=>M(ee(v(e),r)),ee,B((e,r)=>e<0?e%r+r:e%r)],[re,(e,r)=>Z(W(e),r).filter(g),(e,r)=>Z(e,r).filter(g)],[(e,r)=>A(re(e,W(r))),(e,r)=>e.split(r).filter(d)],[(e,r)=>re(e,W(r))]),"|":w((e,r)=>e|r,x(V,q)),"&":w((e,r)=>e&r,(e,r)=>V(e).filter(e=>R(r,e))),"^":w((e,r)=>e^r,(e,r)=>V(q(e,r)).filter(t=>!R(e,t)||!R(r,t))),"=":E([te,te,(e,r)=>r<0?e[g(e)+r]:e[r],T],[T,T,T]),",":j(e=>s(e<0?0:e).fill().map((e,r)=>r),g,x(g,v),e=>j(9,Q(e),x(A,Q(e),W),x(m,A,Q(e),W))(o())),".":e=>u(e,e),";":e=>{},"<":E([(e,r)=>m(M(v(a(e)).slice(0,r))),(e,r)=>M(v(e).slice(0,r)),(e,r)=>e.slice(0,r),le],[(e,r)=>se(W(e),r),(e,r)=>se(W(e),r),se],[le,le]),">":E([(e,r)=>m(M(v(a(e)).slice(r))),(e,r)=>M(v(e).slice(r)),(e,r)=>e.slice(r),ne],[(e,r)=>se(r,W(e)),(e,r)=>se(r,W(e)),(e,r)=>se(r,e)],[ne,ne]),"\\":(e,r)=>u(r,e),"[":()=>{n.push(g(t))},"]":()=>t.splice(n.pop()),"?":E([9,(e,r)=>v(e).indexOf(A(r)),U,B((e,r)=>e**r)],[X,(e,r)=>U(r,e),U],[(e,r)=>X(e,W(r)),(e,r)=>v(e).findIndex((e,t,i)=>M(i.slice(t)).startsWith(r))]),"(":j(B(e=>--e),e=>u(e.slice(1),e[0]),e=>u(M(v(e).slice(1)),O(e)),e=>u(m(M(v(a(e)).slice(1))),O(e))),")":j(B(e=>++e),e=>u(e=v(e),e.pop()),e=>u(M((e=v(e)).slice(0,-1)),O(e[g(e)-1])),e=>{let r=v(a(e)),t=r.pop();u(m(M(r)),O(t))}),and:m("1$if"),or:m("1$\\if"),xor:m("\\!!{!}*"),print(e){l+=P(e)},p:m("`puts"),n:"\n",puts:m("print n print"),rand:e=>Math.floor(Math.random()*e),do(e){do{e()}while(k(o()))},while(e,r){for(;e(),k(o());)r()},until(e,r){for(;e(),!k(o());)r()},if:(e,t,i)=>(r=k(e)?t:i).call?r():r,abs:S,zip:e=>[e=>ae(e.map(A)).map(x(m,M)),e=>ae(e.map(A)).map(M),ae][y(e[0])](e),base:E([(e,r)=>pe(W(e),r),(e,r)=>pe(W(e),r),pe,fe]),...i};return oe(e),u(t),ce.puts(),l}